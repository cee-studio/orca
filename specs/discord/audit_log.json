{
  "namespace": ["discord"],
  "comment":"https://discord.com/developers/docs/resources/audit-log",
  "defs":
  [
    {
      "title":"Audit Log Structure",
      "comment":"https://discord.com/developers/docs/resources/audit-log#audit-log-object-audit-log-structure",
      "struct":"audit_log",
      "fields":
      [
        {"name":"webhooks", "type": { "base":"struct discord_webhook", "dec":"ntl" }, "comment":"list of webhooks found in the audit log", "inject_if_not":null },
        {"name":"users", "type": { "base":"struct discord_user", "dec":"ntl"}, "comment":"list of users found in the audit log", "inject_if_not":null},
        {"name":"audit_log_entries", "type": { "base":"struct discord_audit_log_entry", "dec":"ntl"}, "comment":"list of audit log entries", "inject_if_not":null},
        {"name":"integrations", "type": { "base":"struct discord_integration", "dec":"ntl"}, "comment":"list of partial integration objects", "inject_if_not":null},
        {"name":"threads", "type": { "base":"struct discord_channel", "dec":"ntl"}, "comment":"list of threads found in the audit log", "inject_if_not":null}
      ]
    },
    {
      "title":"Audit Log Entry Structure",
      "comment":"https://discord.com/developers/docs/resources/audit-log#audit-log-entry-object-audit-log-entry-structure",
      "namespace":["audit_log"],
      "struct":"entry",
      "fields":
      [
        {"name":"target_id", "type": {"base":"char", "dec":"*"}, "comment":"id of the affected entity (webhook,user,role,etc.)", "inject_if_not":null },
        {"name":"changes", "type": {"base":"struct discord_audit_log_change", "dec":"ntl"}, "comment":"changes made to the target_id", "inject_if_not":null },
        {"name":"user_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"the user who made the changes", "inject_if_not":0 },
        {"name":"id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"id of the entry", "inject_if_not":0 },
        {"name":"action_type", "type": {"base":"int", "c_base":"enum discord_audit_log_events"}, "comment":"type of action that occured", "inject_if_not":0 },
        {"name":"options", "type": {"base":"struct discord_optional_audit_entry_info", "dec":"ntl"}, "comment":"additional info for certain action types", "inject_if_not":null },
        {"name":"reason", "type": {"base":"char", "dec":"[DISCORD_MAX_REASON_LEN]"}, "comment":"the reason for the change", "inject_if_not":"" }
      ]
    },
    {
      "title":"Audit Log Events",
      "comment":"https://discord.com/developers/docs/resources/audit-log#audit-log-entry-object-audit-log-events",
      "namespace":["audit_log"],
      "enum":"events",
      "items":
      [
        {"name":"GUILD_UPDATE","value":1},
        {"name":"CHANNEL_CREATE","value":10},
        {"name":"CHANNEL_UPDATE","value":11},
        {"name":"CHANNEL_DELETE","value":12},
        {"name":"CHANNEL_OVERWRITE_CREATE","value":13},
        {"name":"CHANNEL_OVERWRITE_UPDATE","value":14},
        {"name":"CHANNEL_OVERWRITE_DELETE","value":15},
        {"name":"MEMBER_KICK","value":20},
        {"name":"MEMBER_PRUNE","value":21},
        {"name":"MEMBER_BAN_ADD","value":22},
        {"name":"MEMBER_BAN_REMOVE","value":23},
        {"name":"MEMBER_UPDATE","value":24},
        {"name":"MEMBER_ROLE_UPDATE","value":25},
        {"name":"MEMBER_MOVE","value":26},
        {"name":"MEMBER_DISCONNECT","value":27},
        {"name":"BOT_ADD","value":28},
        {"name":"ROLE_CREATE","value":30},
        {"name":"ROLE_UPDATE","value":31},
        {"name":"ROLE_DELETE","value":32},
        {"name":"INVITE_CREATE","value":40},
        {"name":"INVITE_DELETE","value":42},
        {"name":"WEBHOOK_CREATE","value":50},
        {"name":"WEBHOOK_UPDATE","value":51},
        {"name":"WEBHOOK_DELETE","value":52},
        {"name":"EMOJI_CREATE","value":60},
        {"name":"EMOJI_UPDATE","value":61},
        {"name":"EMOJI_DELETE","value":62},
        {"name":"MESSAGE_DELETE","value":72},
        {"name":"MESSAGE_BULK_DELETE","value":73},
        {"name":"MESSAGE_PIN","value":74},
        {"name":"MESSAGE_UNPIN","value":75},
        {"name":"INTEGRATION_CREATE","value":80},
        {"name":"INTEGRATION_UPDATE","value":81},
        {"name":"INTEGRATION_DELETE","value":82},
        {"name":"STAGE_INSTANCE_CREATE","value":83},
        {"name":"STAGE_INSTANCE_UPDATE","value":84},
        {"name":"STAGE_INSTANCE_DELETE","value":85},
        {"name":"STICKER_CREATE","value":90},
        {"name":"STICKER_UPDATE","value":91},
        {"name":"STICKER_DELETE","value":92},
        {"name":"THREAD_CREATE","value":110},
        {"name":"THREAD_UPDATE","value":111},
        {"name":"THREAD_DELETE","value":112}
      ]
    },
    {
      "title":"Optional Audit Entry Info Structure",
      "comment": "https://discord.com/developers/docs/resources/audit-log#audit-log-entry-object-optional-audit-entry-info",
      "namespace": ["optional", "audit_entry"],
      "struct":"info",
      "fields":
      [
        { "name": "delete_member_days", "type":{ "base":"char", "dec":"*"}, "comment":"number of days after which inactive members were kicked", "inject_if_not":null },
        { "name": "members_removed", "type":{ "base":"char", "dec":"*"}, "comment":"number of members removed by the prune", "inject_if_not":null },
        { "name": "channel_id", "type":{ "base":"char", "dec":"*", "converter":"snowflake" }, "comment":"channel in which the entities were targeted", "inject_if_not":0 },
        { "name": "message_id", "type":{ "base":"char", "dec":"*", "converter":"snowflake" }, "comment":"id of the message that was targeted", "inject_if_not":0 },
        { "name": "count", "type":{ "base":"char", "dec":"*" }, "comment":"number of entities that were targeted", "inject_if_not":null },
        { "name": "id", "type":{ "base":"char", "dec":"*", "converter":"snowflake" }, "comment":"id of the ovewritten entity", "inject_if_not":0 },
        { "name": "type", "type":{ "base":"char", "dec":"*" }, "comment":"type of overwritten entity - '0' for role or '1' for member", "inject_if_not":null },
        { "name": "role_name", "type":{ "base":"char", "dec":"*" }, "comment":"name of the role if type is '0' (not present if type is '1')", "inject_if_not":null }
      ]
    },
    {
      "title":"Audit Log Change Structure",
      "comment": "https://discord.com/developers/docs/resources/audit-log#audit-log-change-object-audit-log-change-structure",
      "namespace": ["audit_log"],
      "struct":"change",
      "fields":
      [
        {"name":"new_value", "type": {"base":"char", "dec":"*"}, "comment":"new value of the key", "inject_if_not":null },
        {"name":"old_value", "type": {"base":"char", "dec":"*"}, "comment":"old value of the key", "inject_if_not":null },
        {"name":"key", "type":{"base":"char", "dec":"*"}, "comment":"name of audit log change key", "inject_if_not":null }
      ]
    },
    {
      "title":"Audit Log Change Key",
      "comment": "https://discord.com/developers/docs/resources/audit-log#audit-log-change-object-audit-log-change-key",
      "namespace": ["audit_log"],
      "struct":"change_key",
      "fields":
      [
        {"name":"name", "type": {"base":"char", "dec":"*"}, "comment":"name changed", "inject_if_not":null },
        {"name":"description", "type": {"base":"char", "dec":"*"}, "comment":"description changed", "inject_if_not":null },
        {"name":"icon_hash", "type": {"base":"char", "dec":"[ORCA_LIMITS_SHA256]"}, "comment":"icon changed", "inject_if_not":"" },
        {"name":"splash_hash", "type": {"base":"char", "dec":"[ORCA_LIMITS_SHA256]"}, "comment":"invite splash page artwork changed", "inject_if_not":"" },
        {"name":"discovery_splash_hash", "type": {"base":"char", "dec":"[ORCA_LIMITS_SHA256]"}, "comment":"discovery splash changed", "inject_if_not":"" },
        {"name":"banner_hash", "type": {"base":"char", "dec":"[ORCA_LIMITS_SHA256]"}, "comment":"guild banned changed", "inject_if_not":"" },
        {"name":"owner_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"owner changed", "inject_if_not":0 },
        {"name":"region", "type": {"base":"char", "dec":"[ORCA_LIMITS_REGION]"}, "comment":"region changed", "inject_if_not":"" },
        {"name":"preferred_locale", "type": {"base":"char", "dec":"[ORCA_LIMITS_LOCALE]"}, "comment":"preferred locale changed", "inject_if_not":"" },
        {"name":"afk_channel_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"afk channel changed", "inject_if_not":0 },
        {"name":"afk_timeout", "type": {"base":"int"}, "comment":"afk timeout duration changed", "inject_if_not":0 },
        {"name":"rules_channel_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"id of the rules channel changed", "inject_if_not":0 },
        {"name":"public_updates_channel_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"id of the public updates channel changed", "inject_if_not":0 },
        {"name":"mfa_level", "type": {"base":"int"}, "comment":"two-factor auth requirement changed", "inject_if_not":0 },
        {"name":"verification_level", "type": {"base":"int"}, "comment":"required verification level changed", "inject_if_not":0 },
        {"name":"explicit_content_filter", "type": {"base":"int"}, "comment":"change in whose messages are scanned and deleted for explicit content in the server", "inject_if_not":0 },
        {"name":"default_message_notifications", "type": {"base":"int"}, "comment":"default message notification level changed", "inject_if_not":0 },
        {"name":"vanity_url_code", "type": {"base":"char", "dec":"*"}, "comment":"guild invite vanity url changed", "inject_if_not":null },
        {"name":"add", "json_key":"$add", "type": {"base":"struct discord_role", "dec":"ntl" }, "comment":"new role added", "inject_if_not":null },
        {"name":"remove", "json_key":"$remove", "type": {"base":"struct discord_role", "dec":"ntl"}, "comment":"role removed", "inject_if_not":null },
        {"name":"prune_delete_days", "type": {"base":"int"}, "comment":"change in number of days after which inactive and role-unassigned members are kicked", "inject_if_not":0 },
        {"name":"widget_enabled", "type": {"base":"bool"}, "comment":"server widget enabled/disable"},
        {"name":"widget_channel_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"channel id of the server widget changed", "inject_if_not":0 },
        {"name":"system_channel_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"id of the system channel changed", "inject_if_not":0 },
        {"name":"position", "type": {"base":"int"}, "comment":"text or voice channel position changed"},
        {"name":"topic", "type": {"base":"char", "dec":"*"}, "comment":"text or voice chanenl position changed", "inject_if_not":null },
        {"name":"bitrate", "type": {"base":"int"}, "comment":"voice channel bitrate changed" },
        {"name":"permission_overwrites", "type": {"base":"struct discord_overwrite", "dec":"ntl"}, "comment":"permissions on a channel changed" },
        {"name":"nsfw", "type": {"base":"bool"}, "comment":"channel nsfw restriction changed" },
        {"name":"application_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"application id of the added or removed webhook or bot", "inject_if_not":0 },
        {"name":"rate_limit_per_user", "type": {"base":"int"}, "comment":"amount of seconds a user has to wait before sending another message changed" },
        {"name":"permissions", "type": {"base":"char", "dec":"*"}, "comment":"permissions for a role changed" },
        {"name":"color", "type": {"base":"int"}, "comment":"role color changed" },
        {"name":"hoist", "type": {"base":"bool"}, "comment":"role is now diplayed/no longer displayed separate from online users" },
        {"name":"mentionable", "type": {"base":"bool"}, "comment":"role is now mentionable/unmentionable" },
        {"name":"allow", "type": {"base":"char", "dec":"*"}, "comment":"a permission on a text or voice channel was allowed for a role" },
        {"name":"deny", "type": {"base":"char", "dec":"*"}, "comment":"a permission on a text or voice channel was denied for a role" },
        {"name":"code", "type": {"base":"char", "dec":"*"}, "comment":"invite code changed" },
        {"name":"channel_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"channel for invite code changed", "inject_if_not":0 },
        {"name":"inviter_id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"person who created invite code changed", "inject_if_not":0 },
        {"name":"max_uses", "type": {"base":"int"}, "comment":"change to max number of times invite codes can be used" },
        {"name":"uses", "type": {"base":"int"}, "comment":"number of times invite code used changed" },
        {"name":"max_age", "type": {"base":"int"}, "comment":"how long invite code lasts changed" },
        {"name":"temporary", "type": {"base":"bool"}, "comment":"invite code is temporary/never expires" },
        {"name":"deaf", "type": {"base":"bool"}, "comment":"user server deafened/undefeaned" },
        {"name":"mute", "type": {"base":"bool"}, "comment":"user server muted/unmuted" },
        {"name":"nick", "type": {"base":"char", "dec":"*"}, "comment":"user nickname/changed" },
        {"name":"avatar_hash", "type": {"base":"char", "dec":"[ORCA_LIMITS_SHA256]"}, "comment":"user avatar changed", "inject_if_not":"" },
        {"name":"id", "type": {"base":"char", "dec":"*", "converter":"snowflake"}, "comment":"the id of the changed entity - sometimes used in conjunction with other keys", "inject_if_not":0 },
        {"name":"type", "type": {"base":"char", "dec":"*"}, "todo":true, "comment":"type of entity created" },
        {"name":"enable_emotions", "type": {"base":"bool"}, "comment":"integration emoticons enabled/disabled" },
        {"name":"expire_behavior", "type": {"base":"int"}, "comment":"integration expiring subscriber behavior changed" },
        {"name":"expire_grace_period", "type": {"base":"int"}, "comment":"integration expire grace period changed" },
        {"name":"user_limit", "type": {"base":"int" }, "comment":"new user limit in a voice channel" },
        {"name":"privacy_level", "type": {"base":"int" }, "comment":"privacy level of stage instance changed" },
        {"name":"tags", "type": {"base":"char", "dec":"*" }, "comment":"related emoji of sticker changed", "inject_if_not":null },
        {"name":"format_type", "type": {"base":"int" }, "comment":"format type of sticker changed" },
        {"name":"asset", "type": {"base":"char", "dec":"*" }, "comment":"empty string", "inject_if_not":null },
        {"name":"available", "type": {"base":"bool" }, "comment":"availability of sticker changed" },
        {"name":"guild_id", "type": {"base":"char", "dec":"*", "converter":"snowflake" }, "comment":"guild sticker is in changed", "inject_if_not":0 },
        {"name":"archived", "type": {"base":"bool" }, "comment":"thread is now archived/unarchived" },
        {"name":"locked", "type": {"base":"bool" }, "comment":"thread is now locked/unlocked" },
        {"name":"auto_archive_duration", "type": {"base":"int" }, "comment":"auto archive duration changed" },
        {"name":"default_auto_archive_duration", "type": {"base":"int" }, "comment":"default auto archive duration for newly created threads changed" }
      ]
    }
  ]
}
